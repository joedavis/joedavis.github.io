<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett">
<title> Fun Code Snippet №3 —  Physics and Stuff — Joe's Blog</title>
<meta name="viewport" content="width=device-width">

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML">
</script>
<script src="../js/mathjax-config.js"></script>
<script src="../js/smart-underline.js"></script>
<script>SmartUnderline.init();</script>
<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i&amp;subset=greek,latin-ext" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,400i,600,600i&amp;subset=latin-ext" rel="stylesheet">
<link rel="stylesheet" href="../css/fonts.css">
<link rel="stylesheet" href="../css/syntax.css">
<link rel="stylesheet" href="../css/blog2.css">
<link rel="shortcut icon" href="../favicon.ico">
</head>
<body>
<div class="page">
<header>
<h1>Fun Code Snippet №3</h1>
 <h2> Obfuscated Mandelbrot </h2> 
<div id="postdate">
<span class="time"> 1 June 2018</span>
&raquo;
<span><a href="../">back to top</a></span>
</div>
</header>

<article>
<p>Procrastination strikes again. I wrote a bit of code a while ago to print the Mandelbrot set to the terminal, but I was bored today so I decided to obfuscate it:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="pp">#define C     char     </span><span class="co">/* The Mandelbrot set is a fractal,  */</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="pp">#define U unsigned     </span><span class="co">/* defined as the set of complex     */</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="pp">#define u      U C     </span><span class="co">/* numbers {c}, which, under the     */</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="pp">#define f    float     </span><span class="co">/* iterated map                      */</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="pp">#define s   static</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">s u i ;s f z ,w,t;     <span class="co">/*       z = z² + c,                 */</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7">_(f r,f c){u i ;z=</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="fl">0.2</span>;w=<span class="fl">0.0</span>;<span class="cf">for</span>(i=<span class="dv">0</span>;     <span class="co">/* for some initial value of z, do   */</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9">i-(u)-<span class="dv">1</span>&amp;&amp;(z*z+w*w)     <span class="co">/* not diverge to infinity.          */</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">&lt;<span class="fl">4.</span>;i=-~i){t=z+w;w</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">=<span class="dv">2</span>*z*w+c;z=t*(z-t+     <span class="co">/* This code assumes that the size   */</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12">z)+r;}<span class="cf">return</span>(i);}p     <span class="co">/* of the terminal is at least       */</span></a>
<a class="sourceLine" id="cb1-13" data-line-number="13">(U C c,u*i){*i=-~*     <span class="co">/* 80×25 characters, and that chars  */</span></a>
<a class="sourceLine" id="cb1-14" data-line-number="14">i;<span class="cf">return</span> putchar(c     <span class="co">/* are encoded using ASCII/UTF-8.    */</span></a>
<a class="sourceLine" id="cb1-15" data-line-number="15">);*i=-~*i;}main(){</a>
<a class="sourceLine" id="cb1-16" data-line-number="16">u m,j;<span class="cf">for</span>(j=<span class="dv">0</span>;j<span class="dv">-24</span>     <span class="co">/* An additional assumption, is that */</span></a>
<a class="sourceLine" id="cb1-17" data-line-number="17">;j=-~j,i=<span class="dv">0</span>)<span class="cf">for</span>(;(i     <span class="co">/* chars are 8 bits wide. Aside from */</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18"><span class="dv">-80</span>)||!p(<span class="ch">'\n'</span>,&amp;i);     <span class="co">/* that, I don't think there is      */</span></a>
<a class="sourceLine" id="cb1-19" data-line-number="19">p(m,&amp;i)){m=_(<span class="fl">3.75</span>*     <span class="co">/* anything in the code that isn't   */</span></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"><span class="fl">0.01</span>*i+-<span class="fl">2.2</span>,j/(<span class="dv">12</span>+     <span class="co">/* fully standards conforming (C89). */</span></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="dv">1</span>.e<span class="dv">-9</span>)+-<span class="dv">1</span>);m=((m&gt;=</a>
<a class="sourceLine" id="cb1-22" data-line-number="22"><span class="dv">200</span>)?<span class="dv">64</span>:(m&gt;<span class="dv">99</span>)?<span class="dv">111</span>     <span class="co">/* Compile with:                     */</span></a>
<a class="sourceLine" id="cb1-23" data-line-number="23">:(m&gt;<span class="ch">'1'</span>)?<span class="dv">45</span>:<span class="dv">32</span>);}}     <span class="co">/*     make mandelbrot               */</span></a></code></pre></div>
<p>Output:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode sh"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1">					     <span class="ex">--@</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">					     <span class="ex">@@@@@-</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">					      <span class="ex">@@@o</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4">				     <span class="ex">@</span> o@@@@@@@@@@@@@@@o</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">				     <span class="ex">@@@@@@@@@@@@@@@@@@@@@@-</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">				 <span class="ex">-@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7">				 <span class="ex">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8">		       <span class="ex">@</span>        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">		  <span class="ex">-@@@@@@@@@@</span>  -@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</a>
<a class="sourceLine" id="cb2-10" data-line-number="10">		  <span class="ex">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"> <span class="ex">--o@------oo@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12">		  <span class="ex">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13">		  <span class="ex">-@@@@@@@@@@</span>  -@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</a>
<a class="sourceLine" id="cb2-14" data-line-number="14">		       <span class="ex">@</span>        @@@@@@@@@@@@@@@@@@@@@@@@@@@@@</a>
<a class="sourceLine" id="cb2-15" data-line-number="15">				 <span class="ex">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16">				 <span class="ex">-@@@@@@@@@@@@@@@@@@@@@@@@@@</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17">				     <span class="ex">@@@@@@@@@@@@@@@@@@@@@@-</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18">				     <span class="ex">@</span> o@@@@@@@@@@@@@@@o</a>
<a class="sourceLine" id="cb2-19" data-line-number="19">					      <span class="ex">@@@o</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20">					     <span class="ex">@@@@@-</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21">					     <span class="ex">--@</span></a></code></pre></div>
</article>


<hr>
<footer>
<h3>About The Author</h3>
I’m an Irish student interested in Physics, Computing, Writing and Linguistics.
<div>
<span><a href="https://github.com/joedavis">github</a></span>
<span><a href="mailto:davisj2@tcd.ie">email</a></span>
<span><a href="https://twitter.com/joed512_">twitter</a></span>
</div>
</footer>

<div id="disqus_thread"></div>
<script>

 /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
 
    var disqus_config = function () {
    this.page.url = 'http://jo.ie/{{ page.url }}';  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = '{{ page.id }}'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
 (function() { // DON'T EDIT BELOW THIS LINE
     var d = document, s = d.createElement('script');
     s.src = 'https://jo-ie.disqus.com/embed.js';
     s.setAttribute('data-timestamp', +new Date());
     (d.head || d.body).appendChild(s);
 })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>
</body>
</html>
